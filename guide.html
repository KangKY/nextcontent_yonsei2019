<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Starter Template - Materialize</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <!-- <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper"><a id="logo-container" href="#" class="brand-logo">Logo</a>
      
     
    </div>
  </nav> -->
  <div class="section no-pad-bot" id="guide-banner">
    <div class="container">
      <div class="nav-wrapper custom">
        <a href="#" data-target="nav-mobile" class="sidenav-trigger">
          <!-- <i class="material-icons">menu</i> -->
          <img src="img/manu_open_white.png">
        </a>
        <ul id="nav-mobile" class="sidenav">

              <div class="nav-header center-align valign-wrapper">
                  <a href="#" class="nav-header-close"><i class="material-icons">close</i></a>

                  <div class="logininfo width100">
                      <a class="center-align" href="login.html"><span class="white-text name">로그인해주세요</span></a>
                  </div>
                  

                  <div class="userinfo width100">
                      <a href="account.html" class="center-align"><div class="white-text name user-email">John Doe</div></a>
                      <a href="account.html" class="center-align"><div class="email user-tendency">jdandturk@gmail.com</div></a> 
                  </div>
                  
              </div>

            
              <div class="nav-list white-text">
                  <li>
                      <a class="waves-effect " href="index.html"><img src="img/icons/ox_off.svg">콘텐츠 UV 평가</a>
                  </li>
                  <li>
                      <a class="waves-effect" href="history.html"><img src="img/icons/history_off.svg">평가 히스토리</a>
                  </li>
                  <li>
                      <a class="waves-effect selected" href="guide.html"><img src="img/icons/guide_on.svg">콘텐츠 가이드</a>
                  </li>
              </div>

              <p class="nav-footer"><img src="img/sidebar_applogo.png"></p>
        </ul>
      </div>
        
      <!-- <img src="img/evaluation_bg.png"> -->

    </div>
  </div>


  <div class="container innerScroll">
    <div class="section">

      <!--   Icon Section   -->
      <div class="row no-mar-bot">
          <ul class="collapsible expandable custom">
              <li>
                <div class="collapsible-header">
                  콘텐츠

                      <span  id="content" class="info">해당 없음</span>
                      <span class="badge"><img src="img/icons/arrow_blue_down.svg"></span>

                </div>
                <div id="content-body" class="collapsible-body">
                  <div class="items-wrap">
                      <div class="col s3 xs3">
                        <a data-category="tour" class=" btn btn-custom">
                          <img src="img/icons/selecticon_travel.svg">
                        </a>
                        <div class="info-text ">관광</div>
                      </div>
    
                      <div class="col s3 xs3">
                        <a data-category="game" class=" btn btn-custom">
                          <img src="img/icons/selecticon_game.svg">
                        </a>
                        <div class="info-text ">게임</div>
                      </div>
    
                      <div class="col s3 xs3">
                        <a data-category="education" class=" btn btn-custom">
                          <img src="img/icons/selecticon_education.svg">
                        </a>
                        <div class="info-text ">교육</div>
                      </div>
    
                      <div class="col s3 xs3">
                        <a data-category="music" class=" btn btn-custom">
                          <img src="img/icons/selecticon_music.svg">
                        </a>
                        <div class="info-text ">음악</div>
                      </div>
    
                      <div class="col s3 xs3">
                        <a data-category="therapy" class=" btn btn-custom">
                          <img src="img/icons/selecticon_therapy.svg">
                        </a>
                        <div class="info-text ">테라피</div>
                      </div>
    
                      <div class="col s3 xs3">
                        <a data-category="advertise" class=" btn btn-custom">
                          <img src="img/icons/selecticon_ad.svg">
                        </a>
                        <div class="info-text ">광고</div>
                      </div>
                  </div>

                </div>
              </li>
              <li>
                <div class="collapsible-header">
                  공간유형
                  <span id="space" class="info">해당 없음</span>
                  <span class="badge"><img src="img/icons/arrow_blue_down.svg"></span>
                </div>
                <div id="space-body" class="collapsible-body">
                    <div class="items-wrap">
                        <div class="col s3 xs3">
                            <a data-category="person" class=" btn btn-custom">
                              <img src="img/icons/selecticon_person.svg">
                            </a>
                            <div class="info-text ">일인승</div>
                          </div>
        
                          <div class="col s3 xs3">
                            <a data-category="people" class=" btn btn-custom">
                              <img src="img/icons/selecticon_people.svg">
                            </a>
                            <div class="info-text ">다인승</div>
                          </div>
                    </div>
                </div>
              </li>
              <li>
                <div class="collapsible-header">
                  연령
                  <span id="age" class="info">해당 없음</span>
                  <span class="badge"><img src="img/icons/arrow_blue_down.svg"></span>
                </div>
                <div id="age-body" class="collapsible-body">
                    <div class="items-wrap">
                        <div class="col s3 xs3">
                            <a data-category="child" class=" btn btn-custom">
                              <img src="img/icons/selecticon_child.svg">
                            </a>
                            <div class="info-text ">아동</div>
                          </div>
        
                          <div class="col s3 xs3">
                            <a data-category="teenager" class=" btn btn-custom">
                              <img src="img/icons/selecticon_teenager.svg">
                            </a>
                            <div class="info-text ">청소년</div>
                          </div>
        
                          <div class="col s3 xs3">
                            <a data-category="adult" class=" btn btn-custom">
                              <img src="img/icons/selecticon_adult.svg">
                            </a>
                            <div class="info-text ">성인</div>
                          </div>
        
                          <div class="col s3 xs3">
                            <a data-category="senior" class=" btn btn-custom">
                              <img src="img/icons/selecticon_senior.svg">
                            </a>
                            <div class="info-text ">고령자</div>
                          </div>
        
                    </div>
                </div>
              </li>
              
            </ul>
        <div class="col s12 m4">
            
        </div>

   
      </div>

    </div>

  </div>

  <footer >
      <div class="footer-button fixed">
          <a id="btnShowGuide" class="waves-effect waves-light btn-large evaluate-btn bold " >가이드 보기</a>
      </div>

  </footer>



  <!--  Scripts-->
  <script src="js/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>


  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-database.js"></script>
  <script src="js/manager.js"></script>
  <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#config-web-app -->

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDyKMGQN_j2SvrOcoefmx7O2OfAfiszEPE",
      authDomain: "yonsei2019-d11b7.firebaseapp.com",
      databaseURL: "https://yonsei2019-d11b7.firebaseio.com",
      projectId: "yonsei2019-d11b7",
      storageBucket: "",
      messagingSenderId: "1067485696875",
      appId: "1:1067485696875:web:77d94c991b4b02d8"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);


    if(sessionStorage.getItem('uid')!=null) {
      var userId = sessionStorage.getItem('uid');
      firebase.database().ref('users/' + userId).once('value').then(function(snapshot) {
        //var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';
        $(".logininfo").hide();
        $("div.user-email").text(snapshot.val().email);
        $("div.user-tendency").text(snapshot.val().industry + ", " + snapshot.val().technic);
        
        $(".userinfo").show();
        $(".no-login").hide();
      });
    } else {
      $(".no-login").show();
    }


    var elem = document.querySelector('.collapsible.expandable');
    var instance = M.Collapsible.init(elem, {
      accordion: false
    });

    $(document).ready(function(){
      
      $('.modal').modal();


      $(".nav-header .nav-header-close").click(function() {
        $('.sidenav').sidenav('close');
      });

      $(".btn-custom").on('click', function() {
        $(this).toggleClass('selected');
        var collapsible_body = $(this).parents('.collapsible-body');
        var collapsible_head = $(this).parents('.collapsible-body').siblings('.collapsible-header');

        if(collapsible_body.find('a.btn-custom.selected').length > 0 ) {
          collapsible_head.find('span.info').addClass('selected');

          var textArr = [];
          collapsible_body.find('a.btn-custom.selected').each(function(idx, item) {
            textArr.push($(item.nextElementSibling).text());
          });
          collapsible_head.find('span.info').text(textArr.join(', '));
        }
        else {
          collapsible_head.find('span.info').removeClass('selected');
          collapsible_head.find('span.info').text('해당 없음');
        }
      });

      $(".collapsible-header").click(function() {
        var badge =  $(this).find('span.badge').children();
        if($(this).parent().hasClass('active'))
          badge.attr('src', 'img/icons/arrow_blue_down.svg');
        else
          badge.attr('src', 'img/icons/arrow_blue_up.svg');
      });

      $("#btnShowGuide").on('click', function() {

        setGuideSelections();
        //location.href="guide_detail.html";
      });
    });
    
  </script>

  </body>
</html>
